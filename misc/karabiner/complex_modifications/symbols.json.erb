{
    "title": "Symbols layer (@eduarbo) new",
    "rules": [{
        <%
            symbols_modifier = [];
            numbers_row = "1234567890".split("");
            optional_modifiers = ["caps_lock", "command", "control", "option"];
        %>
        "description": "Symbols in upper row, Number row and hard to reach symbols in lower row",
        "manipulators": [
            <%# -------------------------------------------------- %>
            <%# Symbols row %>
            <%# -------------------------------------------------- %>
            <% "qwertyuiop".split("").each_with_index do |char, index| %>
            {
                "type": "basic",
                "from": <%= from(char, symbols_modifier, optional_modifiers) %>,
                "to": <%= to([[numbers_row[index], ["left_shift"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from(char, symbols_modifier, optional_modifiers) %>,
                "to": <%= to([[numbers_row[index], ["left_shift"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },
            <% end %>

            <%# -------------------------------------------------- %>
            <%# Numbers row %>
            <%# -------------------------------------------------- %>
            <% "asdfghjkl".split("").each_with_index do |char, index| %>
            {
                "type": "basic",
                "from": <%= from(char, symbols_modifier, optional_modifiers) %>,
                "to": <%= to([[numbers_row[index]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from(char, symbols_modifier, optional_modifiers) %>,
                "to": <%= to([[numbers_row[index]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },
            <% end %>
            {
                "type": "basic",
                "from": <%= from("semicolon", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["0"]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("semicolon", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["0"], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("quote", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["slash", ["left_shift", "left_option"]]]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("quote", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["slash", ["left_shift", "left_option"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },

            <%# -------------------------------------------------- %>
            <%# Lower row %>
            <%# -------------------------------------------------- %>
            {
                "type": "basic",
                "from": <%= from("z", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["1", ["left_option"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("z", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["1", ["left_option"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("x", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["backslash", ["left_shift"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("x", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["backslash", ["left_shift"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("c", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["hyphen", "left_shift"]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("c", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["hyphen", "left_shift"], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("v", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["equal_sign"]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("v", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["equal_sign"], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("b", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["backslash"]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("b", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["backslash"], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("n", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["n", ["left_option"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("n", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["n", ["left_option"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("m", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["e", ["left_option"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("m", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["e", ["left_option"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("left_shift", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["hyphen"]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("left_shift", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["hyphen"], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("right_shift", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["equal_sign", ["left_shift"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("right_shift", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["equal_sign", ["left_shift"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            },

            {
                "type": "basic",
                "from": <%= from("slash", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["slash", ["left_shift", "left_option"]]]) %>,
                "conditions": <%= to([variable_if("symbols", 1)]) %>
            },
            {
                "type": "basic",
                "from": <%= from("slash", symbols_modifier, optional_modifiers) %>,
                "to": <%= to([["slash", ["left_shift", "left_option"]], set_variable("symbols_sticky", 0)]) %>,
                "conditions": <%= to([variable_if("symbols_sticky", 1)]) %>
            }
        ]
    }]
}
