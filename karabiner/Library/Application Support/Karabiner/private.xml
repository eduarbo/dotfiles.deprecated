<?xml version="1.0"?>
<root>
  <!-- For "space_to_control" -->
  <modifierdef>SPACE_TO_CONTROL</modifierdef>
  <modifierdef>HYPER</modifierdef>

  <replacementdef>
    <replacementname>MEGA_KEY</replacementname>
    <replacementvalue>
      KeyCode::COMMAND_L, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE
    </replacementvalue>
  </replacementdef>

  <replacementdef>
    <replacementname>MEGA_MOD</replacementname>
    <replacementvalue>
      ModifierFlag::COMMAND_L | ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L | ModifierFlag::NONE
    </replacementvalue>
  </replacementdef>

  <item>
    <name>Use the correct shift keys.</name>
    <identifier>private.correct_shift_keys</identifier>

    <autogen>--KeyToKey-- KeyCode::Q, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::W, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::E, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::R, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::T, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::A, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::S, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::D, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::F, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::G, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::Z, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::X, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::C, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::V, ModifierFlag::SHIFT_L, KeyCode::VK_NONE</autogen>

    <autogen>--KeyToKey-- KeyCode::Y,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::U,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::I,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::O,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::P,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::H,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::J,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::K,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::L,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::SEMICOLON, ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::N,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::M,         ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::COMMA,     ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::DOT,       ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
    <autogen>--KeyToKey-- KeyCode::QUOTE,     ModifierFlag::SHIFT_R, KeyCode::VK_NONE</autogen>
  </item>

  <item>
    <name>Shifts to Parentheses</name>
    <appendix>Shifts, when pressed alone, type parentheses.  When used with other keys they're normal shifts.</appendix>

    <identifier>private.shifts_to_parens</identifier>

    <!-- This is the basic mapping. -->
    <autogen>
      --KeyOverlaidModifier--
      KeyCode::SHIFT_R,
      ModifierFlag::SHIFT_R | ModifierFlag::NONE,
      KeyCode::SHIFT_R,
      KeyCode::KEY_0,
      ModifierFlag::SHIFT_L
    </autogen>
    <autogen>
      --KeyOverlaidModifier--
      KeyCode::SHIFT_L,
      ModifierFlag::SHIFT_L | ModifierFlag::NONE,
      KeyCode::SHIFT_L,
      KeyCode::KEY_9,
      ModifierFlag::SHIFT_R
    </autogen>

    <!--
        Remap the "rolls" of () and )( because it's too easy to hit one
        before finishing the other, and there's no other reason to be
        pressing both shift keys at once anyway
    -->
    <autogen>
      --KeyToKey--
      KeyCode::SHIFT_L, ModifierFlag::SHIFT_R,
      KeyCode::KEY_0, ModifierFlag::SHIFT_L,
      KeyCode::KEY_9, ModifierFlag::SHIFT_L
    </autogen>
    <autogen>
      --KeyToKey--
      KeyCode::SHIFT_R, ModifierFlag::SHIFT_L,
      KeyCode::KEY_9, ModifierFlag::SHIFT_L,
      KeyCode::KEY_0, ModifierFlag::SHIFT_L
    </autogen>
  </item>

  <item>
    <name>Switch Profile (FN + Number Keys)</name>
    <identifier>private.switch_profile</identifier>

    <autogen>
      __KeyToKey__
      KeyCode::KEY_1, ModifierFlag::FN,
      KeyCode::VK_OPEN_URL_APP_KeyRemap4MacBook_Profile0
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::KEY_2, ModifierFlag::FN,
      KeyCode::VK_OPEN_URL_APP_KeyRemap4MacBook_Profile1
    </autogen>
    <autogen>
      __KeyToKey__
      KeyCode::KEY_3, ModifierFlag::FN,
      KeyCode::VK_OPEN_URL_APP_KeyRemap4MacBook_Profile2
    </autogen>
  </item>

  <item>
    <name>Command keys to Command</name>
    <appendix>(+ When you type Command_R only, send Bracket_Right)</appendix>
    <appendix>(+ When you type Command_L only, send Bracket_Left)</appendix>

    <identifier>remap.command_to_command_brackets</identifier>

    <autogen>
      __KeyOverlaidModifier__
      KeyCode::COMMAND_L,
      KeyCode::COMMAND_L,
      KeyCode::BRACKET_LEFT
    </autogen>
    <autogen>
      __KeyOverlaidModifier__
      KeyCode::COMMAND_R,
      KeyCode::COMMAND_R,
      KeyCode::BRACKET_RIGHT
    </autogen>
  </item>

  <item>
    <name>Use the space key as left control key when you press keys while holding space key.</name>
    <appendix></appendix>
    <appendix>For example:</appendix>
    <appendix><![CDATA[  Space down -> T down -> T up => Control-T  ]]></appendix>
    <appendix><![CDATA[  Space down -> T down -> Space up => Space,T  ]]></appendix>
    <identifier>remap.space_to_control</identifier>

    <autogen>
      __KeyOverlaidModifier__
      KeyCode::SPACE,

      KeyCode::VK_LAZY_CONTROL_L, ModifierFlag::SPACE_TO_CONTROL,
      KeyCode::SPACE
    </autogen>

    <block>
      <modifier_only>ModifierFlag::SPACE_TO_CONTROL</modifier_only>

      <autogen>
        __BlockUntilKeyUp__
        KeyCode::SPACE
      </autogen>
    </block>
  </item>

  <item>
    <name>Remap Caps Lock to Delete</name>
    <appendix>OS X doesn't have a Delete. This maps Caps lock (F19) to Delete.</appendix>
    <appendix>You can use this key in your own custom keyboard shortcuts you create in apps.</appendix>

    <identifier>private.f19_to_delete</identifier>

    <autogen>
      --KeyToKey--
      KeyCode::F19,
      KeyCode::DELETE
    </autogen>
  </item>

  <item>
    <name>Change Option keys</name>

    <item>
      <name>Option_L to Mega</name>
      <appendix>(+ When you type Option_L only, send Escape)</appendix>
      <identifier>private.option_L_to_mega</identifier>

      <!-- I took this helpful mapping from Steve Losh's post
           http://stevelosh.com/blog/2012/10/a-modern-space-cadet -->

      <autogen>
        __KeyOverlaidModifier__
        KeyCode::OPTION_L, {{ MEGA_KEY }}, KeyCode::ESCAPE
      </autogen>
    </item>

    <item>
      <name>Option_R to Mega</name>
      <identifier>private.option_R_to_mega</identifier>

      <autogen>
        __KeyOverlaidModifier__
        KeyCode::OPTION_R, {{ MEGA_KEY }}, KeyCode::FORWARD_DELETE
      </autogen>
    </item>
  </item>

  <item>
    <name>Hyper Shortcuts</name>

    <item>
      <name>Home Row Numbers Overlay</name>
      <appendix>Overlay 1234567890 onto the home row (ASDFGHJKL;)</appendix>
      <identifier>private.hyper_to_homerow_numbers</identifier>

      <autogen>__KeyToKey__ KeyCode::A, ModifierFlag::HYPER, KeyCode::KEY_1</autogen>
      <autogen>__KeyToKey__ KeyCode::S, ModifierFlag::HYPER, KeyCode::KEY_2</autogen>
      <autogen>__KeyToKey__ KeyCode::D, ModifierFlag::HYPER, KeyCode::KEY_3</autogen>
      <autogen>__KeyToKey__ KeyCode::F, ModifierFlag::HYPER, KeyCode::KEY_4</autogen>
      <autogen>__KeyToKey__ KeyCode::G, ModifierFlag::HYPER, KeyCode::KEY_5</autogen>
      <autogen>__KeyToKey__ KeyCode::H, ModifierFlag::HYPER, KeyCode::KEY_6</autogen>
      <autogen>__KeyToKey__ KeyCode::J, ModifierFlag::HYPER, KeyCode::KEY_7</autogen>
      <autogen>__KeyToKey__ KeyCode::K, ModifierFlag::HYPER, KeyCode::KEY_8</autogen>
      <autogen>__KeyToKey__ KeyCode::L, ModifierFlag::HYPER, KeyCode::KEY_9</autogen>
      <autogen>__KeyToKey__ KeyCode::SEMICOLON, ModifierFlag::HYPER, KeyCode::KEY_0</autogen>
    </item>
  </item>

  <item>
    <name>Mega shortcuts</name>

    <item>
      <name>Mega + {H,J,K,L} to LEFT,DOWN,UP,RIGHT (Ã  la Vim)</name>
      <identifier>private.mega_hjkl_to_left_down_up_right</identifier>

      <autogen>
        __KeyToKey__
        KeyCode::J, {{ MEGA_MOD }}, KeyCode::CURSOR_DOWN
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::K, {{ MEGA_MOD }}, KeyCode::CURSOR_UP
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::H, {{ MEGA_MOD }}, KeyCode::CURSOR_LEFT
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::L, {{ MEGA_MOD }}, KeyCode::CURSOR_RIGHT
      </autogen>
    </item>

    <item>
      <name>Mega + Inverted T {I,J,K,L} to {UP,LEFT,DOWN,RIGHT}</name>
      <identifier>private.mega_ijkl_to_up_left_down_right</identifier>
      <autogen>
        __KeyToKey__
        KeyCode::I, {{ MEGA_MOD }}, KeyCode::CURSOR_UP
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::J, {{ MEGA_MOD }}, KeyCode::CURSOR_LEFT
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::K, {{ MEGA_MOD }}, KeyCode::CURSOR_DOWN
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::L, {{ MEGA_MOD }}, KeyCode::CURSOR_RIGHT
      </autogen>
    </item>

    <item>
      <name>Mega + Semicolon to add tilde</name>
      <identifier>private.mega_semicolon_add_tilde</identifier>

      <autogen>
        __KeyToKey__
        KeyCode::SEMICOLON, {{ MEGA_MOD }}, KeyCode::E, ModifierFlag::OPTION_L
      </autogen>
    </item>

    <item>
      <name>Mega + N to add n tilde (~)</name>
      <identifier>private.mega_n_add_tilde</identifier>

      <autogen>
        __KeyToKey__
        KeyCode::N, {{ MEGA_MOD }}, KeyCode::N, ModifierFlag::OPTION_L
      </autogen>
    </item>

    <item>
      <name>
        Mega + brackets to move focus to previous/next tab in application
      </name>
      <identifier>private.mega_to_command_shift_brackets</identifier>

      <autogen>
        __KeyToKey__
        KeyCode::BRACKET_LEFT, {{ MEGA_MOD }},
        KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::BRACKET_RIGHT, {{ MEGA_MOD }},
        KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_R | ModifierFlag::SHIFT_R
      </autogen>
    </item>
  </item>
</root>
