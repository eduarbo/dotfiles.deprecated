#!/usr/bin/env bash

basedeps=(git)
deps=(
  fonts-hack-ttf
  emacs
)
brew_deps=(
  "emacs --with-modules --with-librsvg --with-imagemagick@6 --with-gnutls --with-cocoa"
)

if [[ "$PACKAGE_MANAGER" == "brew" ]]; then
  brew tap caskroom/cask
  brew cask install font-hack
fi

install-deps

emacsd="$HOME/.emacs.d"
if [[ ! -d "$HOME/.emacs.d" ]]; then
  git clone --recursive "https://github.com/hlissner/.emacs.d" "$emacsd"
fi

stow-module

pushd "$emacsd" >/dev/null
YES=1
make install
make compile
popd >/dev/null
