#!/usr/bin/env bash
source "$HOME/.dotfiles/lib/utils"

# List of Apps
_apps=( #{{{
# dependencies:
'java' # required by jdownloader

# don't need to be in a specific order
# 'android-studio'
'adobe-reader'
'alfred'
'android-file-transfer'
'appcleaner'
'caffeine'
'calibre'
'colorsnapper'
'dropbox'
'filezilla'
'firefox'
'flux'
'google-chrome'
'google-earth-pro'
'grandperspective'
'handbrake'
'iterm2'
'jdownloader'
'jing'
'karabiner'
'omnidisksweeper'
'onepassword'
'openemu'
'seil'
'silverlight'
'skype'
'spectacle'
'spotify'
'steam'
'sublime-text'
'the-unarchiver'
'transmission'
'unetbootin'
'virtualbox'
'vlc'
'wireshark'
) #}}}

# Check for cask
if ! formula_exists 'brew-cask' >/dev/null; then
  echo
  e_error "Error: cask not found."

  if ! type_exists 'brew'; then
    e_error "You should install first Homebrew in order to install Cask"
    exit
  else
    echo "Installing cask"
    brew install brew-cask
  fi
fi

if formula_exists 'brew-cask' >/dev/null; then
  e_header "Installing Cask packages..."

  # Install Apps
  brew cask update
  brew cask install "${_apps[@]}"
  brew cask cleanup

  [[ $? ]] && e_success "Done"
fi
