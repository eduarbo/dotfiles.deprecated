#!/usr/bin/env bash

gems="sqlint pg_query sass tmuxinator"

source ~/.dotfiles/lib/utils

if ! type_exists 'gem'; then
  echo
  e_error "Error: RubyGems not found."

  if ! type_exists 'brew'; then
    e_error "You should install first Homebrew in order to install NPM"
    exit
  else
    echo "Installing RubyGems"
    brew install ruby-install chruby
    reload
    ruby-install ruby
    chruby ruby
  fi
fi

if type_exists 'gem'; then
  e_header "Installing gems..."

  # Install packages globally and quietly
  gem install $gems

  [[ $? ]] && e_success "Done"
fi
